package parsing

import (
	"slices"
	"testing"
)

func TestNewScanner(t *testing.T) {
	source := "name(){}"

	scanner := NewScanner(source)
	scanner.ScanTokens()

	expected := []Token{
		{
			Type:    STRING,
			Lexeme:  "name",
			Literal: nil,
			Line:    1,
		},
		{
			Type:    LEFT_PAREN,
			Lexeme:  "(",
			Literal: nil,
			Line:    1,
		}, {
			Type:    RIGHT_PAREN,
			Lexeme:  ")",
			Literal: nil,
			Line:    1,
		}, {
			Type:    LEFT_BRACE,
			Lexeme:  "{",
			Literal: nil,
			Line:    1,
		}, {
			Type:    RIGHT_BRACE,
			Lexeme:  "}",
			Literal: nil,
			Line:    1,
		},
	}

	if !slices.Equal(scanner.Tokens, expected) {
		t.Errorf("%v does not equal %v", scanner.Tokens, expected)
	}

}
